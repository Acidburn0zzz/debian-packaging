Swagger-UI
==========

Upstream Source:

    https://github.com/swagger-api/swagger-ui

Justification: 

    Gitea is massive and may experience compatibility problems with packaged swagger-ui updates.
    Swagger-UI is DFSG-free and can be built from source using DFSG-free tools.
    Swagger-UI is too much for me to handle packaging. Help was requested; none was offered.


Currently built version:

    grep PACKAGE_VERSION swagger-ui/swagger-ui.js


Build Procedure
---------------

Clean environment:

    apt-get install debootstrap
    debootstrap unstable build
    mount -t proc none build/proc
    mount -t tmpfs none build/tmp
    mount -t sysfs none build/sys
    chroot build su -

Grab Nodejs/NPM:

    # Latest stable from: https://nodejs.org/en/
    apt-get install build-essential python
    wget https://nodejs.org/dist/v8.8.1/node-v8.8.1.tar.gz
    tar zxf node*.tar.gz
    cd node*

    ./configure
    make -j8
    make install

    cd

Build pre-minified/semi-compiled(contatenated) source:

    # Latest release from https://github.com/swagger-api/swagger-ui/releases
    wget https://github.com/swagger-api/swagger-ui/archive/v3.4.0.tar.gz
    tar zxf v.tar.gz
    cd swagger-ui*
    for i in *.js; do sed -i 's/minimize: true/minimize: false/' "$i"; done

    rm dist/*.{map,js,css,png}
    npm install
    npm run build

    exit

Grab the data:

    mv build/root/swagger-ui-*/dist/*.{css,js,html} missing-sources/swagger-ui/
